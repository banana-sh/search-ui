---
id: solutions-ecommerce-search-page
slug: /search-ui/solutions/ecommerce/search-page
title: "Search Page"
description: Displaying products that match customer's search query.
date: 2022-07-16
tags: ["Search Page", "Search relevance"]
---

The most important part of the search page is the relevance of the displayed results.

There are many ways to improve the relevance. In this doc we'll cover: tools available in the admin interface, combining of the similar results with variants, and sorting — improved relevance achieved by user.

## Improving relevance

App Search offers many tools to improve the relevance of your search results.

### Start with a language optimization

Choosing the right language during the engine creation is the easiest way to improve the relevance.

Language optimization will fine-tune features like **stemming**, **bigram matching**, **phrase matching**, and **typo tolerance** for your chosen language.

Follow this guide for the exact steps: [Language optimization guide](https://www.elastic.co/guide/en/app-search/current/language-optimization-guide.html).

### Set up relevance tuning

App Search's relevance tuning feature allows you to fine-tune the order of results for any given query.

Follow the [Relevance tuning guide](https://www.elastic.co/guide/en/app-search/current/relevance-tuning-guide.html) for the full description of the feature.

### Add synonyms

This step is optional can also improve the relevance.

Sometimes users will use a query that doesn't _exactly_ match your results. You're selling **couches**, but a user searches for **sofa**? Tough luck!

To solve this problem, App Search offers a Synonyms feature. It lets you create groups of synonyms that will later be used for matching.

Our [Synonyms guide](https://www.elastic.co/guide/en/app-search/current/relevance-tuning-guide.html) goes into more details about the feature.

### Create curations

Curations allow you to

- promote some results to always show up at the top of the search results for a specific query
- hide some results from showing up in the search results for a specific query

Learn more about curations in our [Curations guide](https://www.elastic.co/guide/en/app-search/current/curations-guide.html)

## Variants

You might have several products that are essentially the same, but have one different attribute. The most popular example of it is color of a shirt. In our example, it's the same TV models but with different diagonals.

If you have such products in your store, it could be better to combine them into a single result. That will prevents users from being overwhelmed by the number of options.

To implement this in Search UI, you'll need to do the following:

1. Enrich your dataset.
2. Enable grouping in Search UI config.
3. Add varians rendering into your Result component.

### Enriching dataset

For each document in your dataset, add a new field that will later be used for grouping search results. Here's the example:

```json
[
  {
    "name": "Samsung TV 55 inch",
    "product_group": "[GROUP_ID_1]"
  },
  {
    "name": "Samsung TV 45 inch",
    "product_group": "[GROUP_ID_1]"
  },
  {
    "name": "LG TV 55 inch",
    "product_group": "[GROUP_ID_2]"
  }
]
```

Make sure to add that new field to all the documents in a dataset! Otherwise, the documents that are missing this field will be combined into a single group.

### Enabling grouping in Search UI config

The grouping is not directly supported by Search UI, but it is supported by the underlying [App Search API](https://www.elastic.co/guide/en/app-search/current/grouping.html).
So instead of enabling it in Search UI config, we'll enable it in App Search connector config.
Here's an example:

```js
const connector = new AppSearchAPIConnector({
  searchKey: "search-key",
  engineName: "engine-name",
  endpointBase: "endpointBase",
  // enabling grouping in App Search connector config
  beforeSearchCall: (existingSearchOptions, next) =>
    next({
      ...existingSearchOptions,
      group: { field: "product_group", collapse: true }
    })
});

export const config = {
  alwaysSearchOnInitialLoad: true,
  apiConnector: connector
  // other config properties
};
```

### Adding varians rendering into your Result component

Once you have the grouping enabled, the variants will be available via the `_group` field in your result document.
Here's a simplified example of how to use it:

```jsx
{
  result._group && result._group.length > 0 && (
    <ul>
      {result._group.map((variant) => (
        <li>
          <a href={variant.url.raw} target="_blank">
            <span dangerouslySetInnerHTML={{ __html: variant.name.snippet }} />
          </a>
        </li>
      ))}
    </ul>
  );
}
```

## Sorting

<DocImage
  url="images/ecommerce/product-listing-page/sorting.png"
  size="l"
  alt="Sorting component"
/>

Adding sorting is simple — just use our `<Sorting/>` component, like so:

```js
import { Sorting } from "@elastic/react-search-ui";

<Sorting
  label={"Sort by"}
  sortOptions={[
    {
      name: "Relevance",
      value: []
    },
    {
      name: "Price: Low to High",
      value: [{ field: "price", direction: "asc" }]
    },
    {
      name: "Price: High to Low",
      value: [{ field: "price", direction: "desc" }]
    }
  ]}
/>;
```

A good starting point for sorting options is to have these three:

- Relevance / Featured / Best Match (usually the default option)
- Price: Low to High
- Price: High to Low

Also consider adding some of these if they are applicable to your data:

- Popularity
- User rating
- Distance (to user)
- Newest first
